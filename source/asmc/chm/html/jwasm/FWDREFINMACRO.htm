<HTML>
<HEAD><TITLE>   5.1 Forward References in Macro Expressions</TITLE></HEAD>
<BODY>
<H1>   5.1 Forward References in Macro Expressions</H1>

    Like Masm, JWasm usually evaluates expressions in preprocessor directives
    during the first pass only. However, due to different jump optimization
    strategies of Masm and JWasm, the results may differ. This is very
    unlikely to impose a problem, but it is mentioned here for completeness.
    An example (found in README.TXT of Masm v6.14):
<P><pre><font color="#008040"> 
      Label1:
           JMP Label2
      Label2:

      REPEAT Label2 - Label1
           INC AX
      ENDM
</font></pre><P> 
    Masm will - incorrectly - repeat the loop 10 times, although the result
    of expression <TT>Label2 - Label1</TT> is 2 only. OTOH, JWasm will repeat the 
    loop 2 times only, because it's using an "optimistic" strategy concerning
    forward references.
<P> 
<P> 
</BODY>
</HTML>
